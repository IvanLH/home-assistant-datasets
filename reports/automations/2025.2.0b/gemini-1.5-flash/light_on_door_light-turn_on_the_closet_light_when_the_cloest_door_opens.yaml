---
uuid: 903f419d-6cfa-48b6-891b-e8d42d099b30
task_id: light_on_door_light-turn_on_the_closet_light_when_the_cloest_door_opens
category: light
task:
  input_text: turn on the closet light when the cloest door opens
response: |-
  ```yaml
  alias: Turn on closet light when closet door opens
  description: Turns on the closet light when the closet door is opened.
  trigger:
    - platform: state
      entity_id: binary_sensor.closet_door_sensor # Replace with your closet door sensor entity ID
      to: 'on' #The door is opened
  condition: [] # No conditions needed in this simple case
  action:
    - service: light.turn_on
      target:
        entity_id: light.closet_light # Replace with your closet light entity ID
  mode: single # Prevents the automation from triggering multiple times if the door stays open

  ```
context:
  conversation_trace:
  - event_type: async_process
    data:
      text: turn on the closet light when the cloest door opens
      context:
        id: 01JK3N8V3A9B4S0D0C4JD2XGPH
        parent_id: null
        user_id: null
      conversation_id: null
      device_id: null
      language: en
      agent_id: conversation.mock_title
      extra_system_prompt: null
  - event_type: agent_detail
    data:
      messages:
      - role: system
        agent_id: conversation.mock_title
        content: |-
          Current time is 07:43:06. Today's date is 2025-02-02.

          Create a Home Assistant automation YAML configuration based on the following
          user request.

          An example automation such as "When Paulus arrives home and it is after sunset: Turn the lights on in the living room."
          will be broken up into these parts:

          (trigger)    When Paulus arrives home
          (condition)  and it is after sunset:
          (action)     Turn the lights on in the living room

          The first part is the trigger of the automation rule. Triggers describe events that should trigger the automation rule. In this case, it is a person arriving home, which can be observed in Home Assistant using devices/sensors by observing the state of Paulus changing from not_home to home.
          The second part is the condition. Conditions are optional tests that can limit an automation rule to only work in your specific use cases. A condition will test against the current state of the system. This includes the current time, devices, people and other things like the sun. In this case, we only want to act when the sun has set.
          The third part is the action, which will be performed when a rule is triggered and all conditions are met. For example, it can turn a light on, set the temperature on your thermostat or activate a scene.

          Please respond only with markdown that contains yaml. You can
          add comments inline with your step by step thinking. The response must start
          with ```yaml and end with ``` because your answer will be parsed by code. It
          is very important to stick to the format.
      - role: user
        agent_id: conversation.mock_title
        content: turn on the closet light when the cloest door opens
      - role: assistant
        agent_id: conversation.mock_title
        content: |-
          ```yaml
          alias: Turn on closet light when closet door opens
          description: Turns on the closet light when the closet door is opened.
          trigger:
            - platform: state
              entity_id: binary_sensor.closet_door_sensor # Replace with your closet door sensor entity ID
              to: 'on' #The door is opened
          condition: [] # No conditions needed in this simple case
          action:
            - service: light.turn_on
              target:
                entity_id: light.closet_light # Replace with your closet light entity ID
          mode: single # Prevents the automation from triggering multiple times if the door stays open

          ```
      tools: null
  tries: 0
